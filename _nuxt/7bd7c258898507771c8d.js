(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{304:function(t,e,n){var content=n(326);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("e7408230",content,!0,{sourceMap:!1})},325:function(t,e,n){"use strict";var r=n(304);n.n(r).a},326:function(t,e,n){(e=n(11)(!1)).push([t.i,".v-data-table th{font-size:1rem}.v-data-table td{font-size:1.15rem}",""]),t.exports=e},392:function(t,e,n){"use strict";n.r(e);n(16),n(54),n(8),n(5),n(4),n(74),n(301),n(99),n(100);var r={inject:["theme"],data:function(){return{reload:!0,token:"",totalColor:"#424242",startDate:"2019-12-23",endDate:"2019-12-30",menu:!1,menu2:!1,clientCharge:0,workerCharge:0,itemsPerPage:1e4,singleSelect:!1,singleSelect2:!1,selected:[],selected2:[],total:0,headers:[{text:"Date Created",align:"center",value:"created_at"},{text:"Description",align:"left",value:"description"},{text:"Quantity",align:"center",value:"quantity"},{text:"Rate",align:"center",value:"rate_per_ton"},{text:"Equivalent",align:"center",value:"total_amount"},{text:"Remarks",align:"center",value:"remarks"}],headers2:[{text:"Date Created",align:"left",value:"created_at"},{text:"Description",align:"left",value:"description"},{text:"Service",align:"left",value:"Service"},{text:"Quantity",align:"left",value:"quantity"},{text:"Unit",align:"left",value:"Unit"},{text:"Rate",align:"left",value:"rate_per_ton_worker"},{text:"Equivalent",align:"left",value:"total_amount_workers"},{text:"Remarks",align:"left",value:"remarks"}]}},name:"Todos",computed:{PJCCtransactionss:function(){return this.$store.state.transactions.PJCCtransactions},distinctServices:function(){var t=this.$store.state.transactions.PJCCtransactions,e=[],map=new Map,n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var d=l.value;map.has(d.Service)||(map.set(d.Service,!0),e.push({name:d.Service,unit:d.Unit}))}}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e},transactCount:function(){for(var t=this.$store.state.transactions.PJCCtransactions,e=0,i=0;i<t.length;i++)e+=parseFloat(t[i].total_amount);return this.clientCharge=e,"Php. ".concat(Number(e.toFixed(2)).toLocaleString("en"))},transactCountWorkers:function(){for(var t=this.$store.state.transactions.PJCCtransactions,e=0,i=0;i<t.length;i++)e+=parseFloat(t[i].total_amount_workers);return this.workerCharge=e,"Php. ".concat(Number(e.toFixed(2)).toLocaleString("en"))},totalAmount:function(){var t=this.clientCharge-this.workerCharge;return"Php. ".concat(Number(t.toFixed(2)).toLocaleString("en"))}},created:function(){var t={dateStart:this.startDate,dateEnd:this.endDate};this.$store.dispatch("transactions/getTransactionsFiltered",t),this.token=localStorage.getItem("authToken")},methods:{updateTransaction:function(){var t={dateStart:this.startDate,dateEnd:this.endDate};this.$store.dispatch("transactions/getTransactionsFiltered",t)},filterTransaction:function(t){return this.$store.state.transactions.PJCCtransactions.filter((function(i){return i.Service===t}))},totalPerServices:function(t){for(var e=this.$store.state.transactions.PJCCtransactions,n=0,i=0;i<e.length;i++)e[i].Service==t&&(n+=parseFloat(e[i].total_amount));return"Total: ".concat(Number(n.toFixed(2)).toLocaleString("en"))}},updated:function(){this.reload=!1}},o=(n(325),n(56)),l=n(92),c=n.n(l),d=n(128),v=n(314),m=n(386),f=n(390),h=n(389),_=n(317),k=n(370),x=n(371),C=n(320),y=n(387),D=n(321),S=n(388),w=n(296),P=n(378),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",{staticClass:"text-center"},[n("v-row",{staticClass:"justify-lg-center"},[n("v-skeleton-loader",{attrs:{loading:t.reload,type:"chip"}},[n("v-chip",{staticClass:"ma-2 title",attrs:{color:"blue","text-color":"white"}},[t._v("\n      "+t._s(t.transactCount)+" \n")]),t._v("\n-\n")],1),t._v(" "),n("v-skeleton-loader",{attrs:{loading:t.reload,type:"chip"}},[n("v-chip",{staticClass:"ma-2 title",attrs:{color:"red","text-color":"white"}},[t._v("\n      "+t._s(t.transactCountWorkers)+" \n")]),t._v("\n=\n    ")],1),t._v(" "),n("v-skeleton-loader",{attrs:{loading:t.reload,type:"chip"}},[n("v-chip",{staticClass:"ma-2 title",attrs:{color:"green","text-color":"white"}},[t._v("\n\n"+t._s(t.totalAmount)+"\n\n")])],1)],1),t._v(" "),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3"}},[n("v-select",{attrs:{items:t.PJCCtransactionss,"item-text":"client_id","item-value":"client_id",label:"Outlined style",outlined:""}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"2"}},[n("v-skeleton-loader",{attrs:{loading:t.reload,type:"date-picker-options"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.startDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.startDate=e},"update:return-value":function(e){t.startDate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Picker in menu","prepend-icon":"",readonly:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.reload=!t.reload,t.$refs.menu.save(t.startDate),t.updateTransaction()}}},[t._v("OK")])],1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"2"}},[n("v-skeleton-loader",{attrs:{loading:t.reload,type:"date-picker-options"}},[n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":t.endDate,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.endDate=e},"update:return-value":function(e){t.endDate=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Picker in menu","prepend-icon":"",readonly:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.$refs.menu2.save(t.endDate),t.updateTransaction()}}},[t._v("OK")])],1)],1)],1)],1)],1),t._v(" "),n("v-skeleton-loader",{attrs:{loading:t.reload,type:"table"}},[n("v-divider"),t._v(" "),n("br")],1),t._v(" "),t._l(t.distinctServices,(function(e){return n("div",{key:e.id},[n("v-skeleton-loader",{attrs:{loading:t.reload,type:"table"}},[n("h2",{staticClass:"d-flex center",attrs:{cols:"12",sm:"3"}},[t._v(t._s(e.name)+" ("+t._s(e.unit)+")")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.filterTransaction(e.name),"item-key":"id",itemsPerPage:t.itemsPerPage,"hide-default-footer":""},scopedSlots:t._u([{key:"data",fn:function(){return[n("td",{staticClass:"display-4"})]},proxy:!0},{key:"item.created_at",fn:function(e){var r=e.item;return[n("span",[t._v(t._s(new Date(r.created_at).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})))])]}}],null,!0)}),t._v(" "),n("div",{staticClass:"text-lg-right",attrs:{cols:"12",sm:"3",md:"12",lg:"12"}},[n("v-chip",{staticClass:"ma-10 title",attrs:{color:t.totalColor,"text-color":"white",large:""}},[t._v("\n      "+t._s(t.totalPerServices(e.name))+"\n    \n\n")])],1)],1)],1)})),t._v(" "),n("v-skeleton-loader",{attrs:{loading:t.reload,type:"table"}},[n("v-divider"),t._v(" "),n("br")],1)],2)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VChip:v.a,VCol:m.a,VDataTable:f.a,VDatePicker:h.a,VDivider:_.a,VFlex:k.a,VLayout:x.a,VMenu:C.a,VRow:y.a,VSelect:D.a,VSkeletonLoader:S.a,VSpacer:w.a,VTextField:P.a})}}]);